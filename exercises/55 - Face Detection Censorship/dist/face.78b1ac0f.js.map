{"mappings":"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","sources":["pixelated-face.js"],"sourcesContent":["// The face detection does not work on all browsers and operating systems.\n// If you are getting a `Face detection service unavailable` error or similar,\n// it's possible that it won't work for you at the moment.\nconst video = document.querySelector(\".webcam\");\nconst canvas = document.querySelector(\".video\");\nconst ctx = canvas.getContext(\"2d\");\nconst faceCanvas = document.querySelector(\".face\");\nconst faceCtx = faceCanvas.getContext(\"2d\");\nconst faceDetector = new window.FaceDetector({ fastMode: true });\nconst SIZE = 10;\nconst SCALE = 1;\n\n// Write a function that will populate the users video\nasync function populateVideo() {\n\tconst stream = await navigator.mediaDevices.getUserMedia({\n\t\tvideo: { width: 1280, height: 720 },\n\t});\n\tvideo.srcObject = stream;\n\tawait video.play();\n\t// size the canvas to be the same size as the video\n\tcanvas.width = video.videoWidth;\n\tcanvas.height = video.videoHeight;\n\tfaceCanvas.width = video.videoWidth;\n\tfaceCanvas.height = video.videoHeight;\n}\n\nasync function detect() {\n\tconst faces = await faceDetector.detect(video);\n\tctx.clearRect(0, 0, canvas.width, canvas.height);\n\t// ask the browser when the next animation frame is, and tell it to run detect for us\n\tfaces.forEach(drawFace);\n\tfaces.forEach(censor);\n\trequestAnimationFrame(detect);\n}\n\nfunction drawFace(face) {\n\tconst { width, height, top, left } = face.boundingBox;\n\tctx.strokeStyle = \"#ffc600\";\n\tctx.lineWidth = 1;\n\tctx.strokeRect(left, top, width, height);\n\tctx.stroke();\n}\n\nfunction censor({ boundingBox: face }) {\n\tfaceCtx.imageSmoothingEnabled = false;\n\tfaceCtx.clearRect(0, 0, faceCanvas.width, faceCanvas.height);\n\t// draw the small face\n\tfaceCtx.drawImage(\n\t\t// 5 source args\n\t\tvideo, // where does the source come from?\n\t\tface.x, // where do we start the source pull from?\n\t\tface.y,\n\t\tface.width,\n\t\tface.height,\n\t\t// 4 draw args\n\t\tface.x, // where should we start drawing the x and y?\n\t\tface.y,\n\t\tSIZE,\n\t\tSIZE\n\t);\n\t// take that face back out and draw it back at normal size\n\n\tconst width = face.width * SCALE;\n\tconst height = face.height * SCALE;\n\tfaceCtx.drawImage(\n\t\tfaceCanvas, // source\n\t\tface.x, // where do we start the source pull from?\n\t\tface.y,\n\t\tSIZE,\n\t\tSIZE,\n\t\t// Drawing args\n\t\tface.x - (width - face.width) / 2,\n\t\tface.y - (height - face.height) / 2,\n\t\twidth,\n\t\theight\n\t);\n}\n\npopulateVideo().then(detect);\n"],"names":[],"version":3,"file":"face.78b1ac0f.js.map","sourceRoot":"/__parcel_source_root/"}