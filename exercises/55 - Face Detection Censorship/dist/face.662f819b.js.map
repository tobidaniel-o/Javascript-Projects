{"mappings":"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","sources":["pixelated-face-FINISHED.js"],"sourcesContent":["// The face detection does not work on all browsers and operating systems.\n// If you are getting a `Face detection service unavailable` error or similar,\n// it's possible that it won't work for you at the moment.\n\nconst video = document.querySelector('.webcam');\nconst canvas = document.querySelector('.video');\nconst ctx = canvas.getContext('2d');\nconst faceCanvas = document.querySelector('.face');\nconst faceCtx = faceCanvas.getContext('2d');\nconst faceDetector = new window.FaceDetector();\nconst optionsInputs = document.querySelectorAll(\n  '.controls input[type=\"range\"]'\n);\n\nconst options = {\n  SIZE: 10,\n  SCALE: 1.35,\n};\n\nfunction handleOption(event) {\n  const { value, name } = event.currentTarget;\n  options[name] = parseFloat(value);\n}\noptionsInputs.forEach(input => input.addEventListener('input', handleOption));\n\n// Write a fucntion that will populate the users video\nasync function populateVideo() {\n  const stream = await navigator.mediaDevices.getUserMedia({\n    video: { width: 1280, height: 720 },\n  });\n  video.srcObject = stream;\n  await video.play();\n  // size the canvases to be the same size as the video\n  console.log(video.videoWidth, video.videoHeight);\n  canvas.width = video.videoWidth;\n  canvas.height = video.videoHeight;\n  faceCanvas.width = video.videoWidth;\n  faceCanvas.height = video.videoHeight;\n}\n\nasync function detect() {\n  const faces = await faceDetector.detect(video);\n  // ask the browser when the next animation frame is, and tell it to run detect for us\n  faces.forEach(drawFace);\n  faces.forEach(censor);\n  requestAnimationFrame(detect);\n}\n\nfunction drawFace(face) {\n  const { width, height, top, left } = face.boundingBox;\n  ctx.clearRect(0, 0, canvas.width, canvas.height);\n  ctx.strokeStyle = '#ffc600';\n  ctx.lineWidth = 2;\n  ctx.strokeRect(left, top, width, height);\n}\n\nfunction censor({ boundingBox: face }) {\n  faceCtx.imageSmoothingEnabled = false;\n  faceCtx.clearRect(0, 0, faceCanvas.width, faceCanvas.height);\n  // draw the small face\n  faceCtx.drawImage(\n    // 5 source args\n    video, // where does the source come from?\n    face.x, // where do we start the source pull from?\n    face.y,\n    face.width,\n    face.height,\n    // 4 draw args\n    face.x, // where should we start drawing the x and y?\n    face.y,\n    options.SIZE,\n    options.SIZE\n  );\n  // draw the small face back on, but scale up\n\n  const width = face.width * options.SCALE;\n  const height = face.height * options.SCALE;\n  faceCtx.drawImage(\n    faceCanvas, // source\n    face.x, // where do we start the source pull from?\n    face.y,\n    options.SIZE,\n    options.SIZE,\n    // Drawing args\n    face.x - (width - face.width) / 2,\n    face.y - (height - face.height) / 2,\n    width,\n    height\n  );\n}\n\npopulateVideo().then(detect);\n"],"names":[],"version":3,"file":"face.662f819b.js.map","sourceRoot":"/__parcel_source_root/"}